    <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.11.5">
    <title>Phoenix.Tracker.State – phoenix_pubsub v1.0.2</title>
    <link rel="stylesheet" href="dist/app-ddd9717ad9.css" />
    
      <link rel="canonical" href="https://hexdocs.pm/phoenix_pubsub/Phoenix.Tracker.State.html" />
    
    <script src="dist/sidebar_items.js"></script>
  </head>
  <body data-type="modules">

    <div class="main">
<button class="sidebar-toggle">
  <i class="icon-menu"></i>
</button>
<section class="sidebar">
  <button class="sidebar-toggle">
    <i class="icon-menu"></i>
  </button>

  
  <a href="api-reference.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        phoenix_pubsub
      </h1>
      <h2 class="sidebar-projectVersion">
        v1.0.2
      </h2>
    </div>
    
  </a>

  <div class="sidebar-search">
    <i class="icon-search"></i>
    <input type="text" class="sidebar-searchInput" placeholder="search" autocomplete="off" />
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    
  </ul>

  <ul id="full-list" class="sidebar-fullList"></ul>
  <div class="sidebar-noResults"></div>
</section>

<section class="content">
  <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">phoenix_pubsub v1.0.2</small>
        Phoenix.Tracker.State
        
        
          <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L1" title="View Source" class="view-source" rel="help">
            <i class="icon-code"></i>
          </a>
        
      </h1>

      
        <section id="moduledoc" class="docstring">
          <p>Provides an ORSWOT CRDT.</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <i class="icon-link"></i>
            </a>
            Summary
          </h1>
          
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#t:clock/0">clock()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:cloud/0">cloud()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:clouds/0">clouds()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:context/0">context()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:delta/0">delta()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:ets_id/0">ets_id()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:key/0">key()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:meta/0">meta()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:name/0">name()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pid_lookup/0">pid_lookup()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:t/0">t()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:tag/0">tag()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:topic/0">topic()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:value/0">value()</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:values/0">values()</a>
  </div>
  
</div>

  </div>


          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#clocks/1">clocks(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the causal context for the set</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#compact/1">compact(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Compacts a sets causal history</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delta_size/1">delta_size(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the dize of the delta</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#extract/3">extract(state, remote_ref, remote_context)</a>
  </div>
  
    <div class="summary-synopsis"><p>Extracts the set’s elements from ets into a mergeable list</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_by_pid/2">get_by_pid(state, pid)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns all elements for the pid</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_by_pid/4">get_by_pid(state, pid, topic, key)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the element matching the pid, topic, and key</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_by_topic/2">get_by_topic(state, topic)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a list of elements for the topic who belong to an online replica</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#has_delta?/1">has_delta?(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Checks if set has a non-empty delta</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#join/5">join(state, pid, topic, key, meta \\ %{})</a>
  </div>
  
    <div class="summary-synopsis"><p>Adds a new element to the set</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#leave/2">leave(state, pid)</a>
  </div>
  
    <div class="summary-synopsis"><p>Removes all elements from the set for the given pid</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#leave/4">leave(state, pid, topic, key)</a>
  </div>
  
    <div class="summary-synopsis"><p>Removes an element from the set</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#merge/2">merge(local, remote)</a>
  </div>
  
    <div class="summary-synopsis"><p>Merges two sets, or a delta into a set</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#merge_deltas/2">merge_deltas(local, remote)</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#new/1">new(replica)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates a new set for the replica</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#online_list/1">online_list(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a list of elements in the set belonging to an online replica</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#remove_down_replicas/2">remove_down_replicas(state, replica)</a>
  </div>
  
    <div class="summary-synopsis"><p>Removes all elements for replicas that are permanently gone</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#replica_down/2">replica_down(state, replica)</a>
  </div>
  
    <div class="summary-synopsis"><p>Marks a replica as down in the set and returns left users</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#replica_up/2">replica_up(state, replica)</a>
  </div>
  
    <div class="summary-synopsis"><p>Marks a replica as up in the set and returns rejoined users</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#reset_delta/1">reset_delta(state)</a>
  </div>
  
    <div class="summary-synopsis"><p>Resets the set’s delta</p>
</div>
  
</div>

  </div>


          

          

        </section>
      

      
        <section id="types" class="types details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <i class="icon-link"></i>
            </a>
            Types
          </h1>
          <div class="types-list">
            <div id="t:clock/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:clock/0">clock</a> :: pos_integer</code></pre>
  
</div>
<div id="t:cloud/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:cloud/0">cloud</a> :: <a href="http://elixir-lang.org/docs/stable/elixir/MapSet.html#t:t/0">MapSet.t</a></code></pre>
  
</div>
<div id="t:clouds/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:clouds/0">clouds</a> :: %{optional(<a href="#t:name/0">name</a>) => <a href="#t:cloud/0">cloud</a>}</code></pre>
  
</div>
<div id="t:context/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:context/0">context</a> :: %{optional(<a href="#t:name/0">name</a>) => <a href="#t:clock/0">clock</a>}</code></pre>
  
</div>
<div id="t:delta/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:delta/0">delta</a> :: %Phoenix.Tracker.State{clouds: term, context: term, delta: term, mode: :delta, pids: term, range: term, replica: term, replicas: term, values: term}</code></pre>
  
</div>
<div id="t:ets_id/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:ets_id/0">ets_id</a> :: pos_integer</code></pre>
  
</div>
<div id="t:key/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:key/0">key</a> :: term</code></pre>
  
</div>
<div id="t:meta/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:meta/0">meta</a> :: <a href="http://elixir-lang.org/docs/stable/elixir/Map.html#t:t/0">Map.t</a></code></pre>
  
</div>
<div id="t:name/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:name/0">name</a> :: term</code></pre>
  
</div>
<div id="t:pid_lookup/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:pid_lookup/0">pid_lookup</a> :: {pid, <a href="#t:topic/0">topic</a>, <a href="#t:key/0">key</a>}</code></pre>
  
</div>
<div id="t:t/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:t/0">t</a> :: %Phoenix.Tracker.State{clouds: <a href="#t:clouds/0">clouds</a>, context: <a href="#t:context/0">context</a>, delta: :unset | <a href="#t:delta/0">delta</a>, mode: :unset | :delta | :normal, pids: <a href="#t:ets_id/0">ets_id</a>, range: {<a href="#t:context/0">context</a>, <a href="#t:context/0">context</a>}, replica: <a href="#t:name/0">name</a>, replicas: %{optional(<a href="#t:name/0">name</a>) => :up | :down}, values: <a href="#t:values/0">values</a>}</code></pre>
  
</div>
<div id="t:tag/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:tag/0">tag</a> :: {<a href="#t:name/0">name</a>, <a href="#t:clock/0">clock</a>}</code></pre>
  
</div>
<div id="t:topic/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:topic/0">topic</a> :: <a href="http://elixir-lang.org/docs/stable/elixir/String.html#t:t/0">String.t</a></code></pre>
  
</div>
<div id="t:value/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:value/0">value</a> :: {{<a href="#t:topic/0">topic</a>, pid, <a href="#t:key/0">key</a>}, <a href="#t:meta/0">meta</a>, <a href="#t:tag/0">tag</a>}</code></pre>
  
</div>
<div id="t:values/0" class="type-detail">
  <pre><code class="elixir"><a href="#t:values/0">values</a> ::
  <a href="#t:ets_id/0">ets_id</a> |
  :extracted |
  %{optional(<a href="#t:tag/0">tag</a>) => {pid, <a href="#t:topic/0">topic</a>, <a href="#t:key/0">key</a>, <a href="#t:meta/0">meta</a>}}</code></pre>
  
</div>

          </div>
        </section>
      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <i class="icon-link"></i>
            </a>
            Functions
          </h1>
          <div class="detail" id="clocks/1">
  <div class="detail-header">
    <a href="#clocks/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">clocks(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L68" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">clocks(<a href="#t:t/0">t</a>) :: {<a href="#t:name/0">name</a>, <a href="#t:context/0">context</a>}</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns the causal context for the set.</p>

  </section>
</div>
<div class="detail" id="compact/1">
  <div class="detail-header">
    <a href="#compact/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">compact(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L425" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">compact(<a href="#t:t/0">t</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Compacts a sets causal history.</p>
<p>Called as needed and after merges.</p>

  </section>
</div>
<div class="detail" id="delta_size/1">
  <div class="detail-header">
    <a href="#delta_size/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">delta_size(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L384" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">delta_size(<a href="#t:delta/0">delta</a>) :: pos_integer</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns the dize of the delta.</p>

  </section>
</div>
<div class="detail" id="extract/3">
  <div class="detail-header">
    <a href="#extract/3" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">extract(state, remote_ref, remote_context)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L197" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">extract(<a href="#t:t/0">t</a>, remote_ref :: <a href="#t:name/0">name</a>, <a href="#t:context/0">context</a>) :: {<a href="#t:t/0">t</a>, <a href="#t:values/0">values</a>}</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Extracts the set’s elements from ets into a mergeable list.</p>
<p>Used when merging two sets.</p>

  </section>
</div>
<div class="detail" id="get_by_pid/2">
  <div class="detail-header">
    <a href="#get_by_pid/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">get_by_pid(state, pid)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L142" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">get_by_pid(<a href="#t:t/0">t</a>, pid) :: [<a href="#t:value/0">value</a>]</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns all elements for the pid.</p>

  </section>
</div>
<div class="detail" id="get_by_pid/4">
  <div class="detail-header">
    <a href="#get_by_pid/4" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">get_by_pid(state, pid, topic, key)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L131" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">get_by_pid(<a href="#t:t/0">t</a>, pid, <a href="#t:topic/0">topic</a>, <a href="#t:key/0">key</a>) :: <a href="#t:value/0">value</a> | nil</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns the element matching the pid, topic, and key.</p>

  </section>
</div>
<div class="detail" id="get_by_topic/2">
  <div class="detail-header">
    <a href="#get_by_topic/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">get_by_topic(state, topic)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L117" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">get_by_topic(<a href="#t:t/0">t</a>, <a href="#t:topic/0">topic</a>) :: [<a href="#t:value/0">value</a>]</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns a list of elements for the topic who belong to an online replica.</p>

  </section>
</div>
<div class="detail" id="has_delta?/1">
  <div class="detail-header">
    <a href="#has_delta?/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">has_delta?(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L156" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">has_delta?(<a href="#t:t/0">t</a>) :: boolean</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Checks if set has a non-empty delta.</p>

  </section>
</div>
<div class="detail" id="join/5">
  <div class="detail-header">
    <a href="#join/5" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">join(state, pid, topic, key, meta \\ %{})</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L74" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">join(<a href="#t:t/0">t</a>, pid, <a href="#t:topic/0">topic</a>, <a href="#t:key/0">key</a>, <a href="#t:meta/0">meta</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Adds a new element to the set.</p>

  </section>
</div>
<div class="detail" id="leave/2">
  <div class="detail-header">
    <a href="#leave/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">leave(state, pid)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L95" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">leave(<a href="#t:t/0">t</a>, pid) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Removes all elements from the set for the given pid.</p>

  </section>
</div>
<div class="detail" id="leave/4">
  <div class="detail-header">
    <a href="#leave/4" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">leave(state, pid, topic, key)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L82" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">leave(<a href="#t:t/0">t</a>, pid, <a href="#t:topic/0">topic</a>, <a href="#t:key/0">key</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Removes an element from the set.</p>

  </section>
</div>
<div class="detail" id="merge/2">
  <div class="detail-header">
    <a href="#merge/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">merge(local, remote)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L228" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">merge(local :: <a href="#t:t/0">t</a>, {remote :: <a href="#t:t/0">t</a>, <a href="#t:values/0">values</a>} | <a href="#t:delta/0">delta</a>) :: {new_local :: <a href="#t:t/0">t</a>, joins :: [<a href="#t:value/0">value</a>], leaves :: [<a href="#t:value/0">value</a>]}</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Merges two sets, or a delta into a set.</p>
<p>Returns a 3-tuple of the updated set, and the joined and left elements.</p>
<h2>Examples</h2>
<pre><code class="iex elixir">iex&gt; {s1, joined, left} =
     Phoenix.Tracker.State.merge(s1, Phoenix.Tracker.State.extract(s2))

{%Phoenix.Tracker.State{}, [...], [...]}</code></pre>

  </section>
</div>
<div class="detail" id="merge_deltas/2">
  <div class="detail-header">
    <a href="#merge_deltas/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">merge_deltas(local, remote)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L299" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="new/1">
  <div class="detail-header">
    <a href="#new/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">new(replica)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L54" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">new(<a href="#t:name/0">name</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Creates a new set for the replica.</p>
<h2>Examples</h2>
<pre><code class="iex elixir">iex&gt; Phoenix.Tracker.State.new(:replica1)
%Phoenix.Tracker.State{...}</code></pre>

  </section>
</div>
<div class="detail" id="online_list/1">
  <div class="detail-header">
    <a href="#online_list/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">online_list(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L107" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">online_list(<a href="#t:t/0">t</a>) :: [<a href="#t:value/0">value</a>]</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Returns a list of elements in the set belonging to an online replica.</p>

  </section>
</div>
<div class="detail" id="remove_down_replicas/2">
  <div class="detail-header">
    <a href="#remove_down_replicas/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">remove_down_replicas(state, replica)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L365" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">remove_down_replicas(<a href="#t:t/0">t</a>, <a href="#t:name/0">name</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Removes all elements for replicas that are permanently gone.</p>

  </section>
</div>
<div class="detail" id="replica_down/2">
  <div class="detail-header">
    <a href="#replica_down/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">replica_down(state, replica)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L339" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">replica_down(<a href="#t:t/0">t</a>, <a href="#t:name/0">name</a>) :: {<a href="#t:t/0">t</a>, joins :: [], leaves :: [<a href="#t:values/0">values</a>]}</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Marks a replica as down in the set and returns left users.</p>

  </section>
</div>
<div class="detail" id="replica_up/2">
  <div class="detail-header">
    <a href="#replica_up/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">replica_up(state, replica)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L329" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">replica_up(<a href="#t:t/0">t</a>, <a href="#t:name/0">name</a>) :: {<a href="#t:t/0">t</a>, joins :: [<a href="#t:values/0">values</a>], leaves :: []}</code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Marks a replica as up in the set and returns rejoined users.</p>

  </section>
</div>
<div class="detail" id="reset_delta/1">
  <div class="detail-header">
    <a href="#reset_delta/1" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">reset_delta(state)</span>
      
      <a href="https://github.com/phoenixframework/phoenix_pubsub/blob/master/lib/phoenix/tracker/state.ex#L164" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
  </div>
  
    <div class="specs">
      <h4 class="specs-title">Specs</h4>
      <div class="specs-list">
        
          <pre><code class="elixir">reset_delta(<a href="#t:t/0">t</a>) :: <a href="#t:t/0">t</a></code></pre>
        
      </div>
    </div>
  
  <section class="docstring">
    <p>Resets the set’s delta.</p>

  </section>
</div>

        </section>
      

      

      
        <footer class="footer">
      <p>
        <span class="line">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.11.5),
        </span>
        <span class="line">
          designed by
          <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
      </p>
      <button class="night-mode-toggle" />
    </footer>
  </div>
</section>
</div>
  <script src="dist/app-918614602f.js"></script>
  </body>
</html>

